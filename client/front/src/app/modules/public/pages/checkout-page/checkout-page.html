

<div class="page-container">
    <header class="page-header">
      <h1>Checkout</h1>
      <p>Please fill in your shipping details to complete your order.</p>
    </header>
  
    <div *ngIf= "cart" class="checkout-layout">
      <!-- Left Column: Shipping & Payment -->
      <div class="form-section">
        <form [formGroup]="checkoutForm" (ngSubmit)="onSubmit()">
          
          <h3>Shipping Address</h3>
          <div class="form-grid">
            <div class="form-group full-width">
              <label for="street">Street Address</label>
              <input id="street" type="text" formControlName="street">
              <small *ngIf="f['street'].invalid && f['street'].touched" class="error">Street is required.</small>
            </div>
            <div class="form-group">
              <label for="city">City</label>
              <input id="city" type="text" formControlName="city">
              <small *ngIf="f['city'].invalid && f['city'].touched" class="error">City is required.</small>
            </div>
            <div class="form-group">
              <label for="area">Area</label>
              <input id="area" type="text" formControlName="area">
              <small *ngIf="f['area'].invalid && f['area'].touched" class="error">Area is required.</small>
            </div>
            <div class="form-group">
              <label for="building">Building</label>
              <input id="building" type="text" formControlName="building">
              <small *ngIf="f['building'].invalid && f['building'].touched" class="error">Building is required.</small>
            </div>
            <div class="form-group">
              <label for="apartment">Apartment</label>
              <input id="apartment" type="text" formControlName="apartment">
              <small *ngIf="f['apartment'].invalid && f['apartment'].touched" class="error">Apartment is required.</small>
            </div>
          </div>
  
          <h3 class="section-title">Payment Method</h3>
          <div class="payment-options">
            <label class="payment-option">
              <input type="radio" formControlName="paymentMethod" value="cod">
              Cash on Delivery
            </label>
            <!-- Add other payment methods here -->
          </div>
  
        </form>
      </div>
  
      <!-- Right Column: Order Summary -->
      <div class="order-summary">
        <h3>Your Order</h3>
        <div class="summary-items">
          <div class="summary-item" *ngFor="let item of cart.items">
            <span class="item-name">{{ item.title }} (x{{ item.quantity }})</span>
            <span class="item-price">{{ item.price * item.quantity }} EGP</span>
          </div>
        </div>
        <div class="summary-total">
          <span>Total</span>
          <span>{{ cart.totalPrice }} EGP</span>
        </div>
        <button type="submit" (click)="onSubmit()" class="checkout-btn" [disabled]="isLoading">
          <span *ngIf="!isLoading">Place Order</span>
          <span *ngIf="isLoading">Placing Order...</span>
        </button>
        <div *ngIf="errorMessage" class="server-error">{{ errorMessage }}</div>
      </div>
    </div>
  
    <div *ngIf="!cart" class="state-container">
      <p>Your cart is empty. You cannot proceed to checkout.</p>
    </div>
  </div>
